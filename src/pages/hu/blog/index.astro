---
import Layout from '../../../layouts/Layout.astro';
import { useTranslations } from '../../../i18n/translations';

const t = useTranslations('hu');
const base = import.meta.env.BASE_URL.replace(/\/$/, '');

const posts = [
  {
    slug: 'specialne-pripady-intrastat',
    title: 'Speciális esetek az Intrastat jelentésekben',
    excerpt: 'Árufeldolgozás, visszaküldések, cserék, megosztott szállítmányok, szoftver és távértékesítés - ismerje meg, hogyan kell helyesen jelenteni ezeket a speciális eseteket.',
    date: '2025-11-10',
    readTime: '10 perc',
    category: 'Haladó',
    image: `${base}/images/blog-specialne-pripady.jpg`,
  },
  {
    slug: 'trojstranný-obchod',
    title: 'Háromszögügylet és közvetett import/export',
    excerpt: 'Átfogó útmutató a háromszögügyletekről és a közvetett import/exportról. Ismerje meg, hogyan kell helyesen jelenteni az összetett üzleti műveleteket.',
    date: '2025-09-15',
    readTime: '9 perc',
    category: 'Haladó',
    image: `${base}/images/blog-trojstranný-obchod.jpg`,
  },
  {
    slug: 'colny-sadzobnik-zatriedenie',
    title: 'Vámtarifa és árubesorolás',
    excerpt: 'Átfogó útmutató a vámtarifához és a helyes árubesoroláshoz. Ismerje meg, hogyan rendelje hozzá a helyes KN kódot és kerülje el a gyakori hibákat.',
    date: '2025-07-20',
    readTime: '8 perc',
    category: 'Gyakorlati útmutató',
    image: `${base}/images/blog-colny-sadzobnik.jpg`,
  },
  {
    slug: 'co-je-intrastat',
    title: 'Mi az Intrastat és mikor keletkezik a kötelezettség?',
    excerpt: 'Átfogó útmutató az Intrastat rendszerről szlovák cégek számára. Tudja meg, mikor köteles jelentéseket benyújtani és mit kell tudnia.',
    date: '2025-01-15',
    readTime: '5 perc',
    category: 'Alapok',
    image: `${base}/images/blog-co-je-intrastat.jpg`,
  },
  {
    slug: 'prahy-oslobodenia-2025',
    title: 'Mentességi küszöbök 2025-re',
    excerpt: 'Aktuális mentességi küszöbök az Intrastat jelentésekhez 2025-ben. Mi változott és hogyan érinti az Ön cégét.',
    date: '2025-03-10',
    readTime: '3 perc',
    category: 'Jogszabályok',
    image: `${base}/images/blog-prahy-oslobodenia.jpg`,
  },
  {
    slug: 'najcastejsie-chyby',
    title: '5 leggyakoribb hiba az Intrastat jelentésekben',
    excerpt: 'Kerülje el ezeket a gyakori hibákat az Intrastat jelentések benyújtásakor. Gyakorlati tippek szakértőktől.',
    date: '2025-05-05',
    readTime: '4 perc',
    category: 'Tippek',
    image: `${base}/images/blog-najcastejsie-chyby.jpg`,
  },
];

function formatDate(dateString: string) {
  const date = new Date(dateString);
  return date.toLocaleDateString('hu-HU', {
    day: 'numeric',
    month: 'long',
    year: 'numeric',
  });
}
---

<Layout title={`${t('nav.blog')} | Intrastat Portál`} description="Hírek és hasznos információk az Intrastat világából. Tippek, jogszabályi változások és gyakorlati tanácsok.">
  <!-- Page Header -->
  <section class="bg-gradient-to-br from-primary-600 to-primary-800 py-16 md:py-20">
    <div class="container-custom">
      <div class="max-w-3xl">
        <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">
          {t('blog.title')}
        </h1>
        <p class="text-xl text-primary-100">
          {t('blog.subtitle')}
        </p>
      </div>
    </div>
  </section>

  <!-- Blog Posts -->
  <section class="section-padding">
    <div class="container-custom">
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {posts.map((post) => (
          <article class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow">
            <img 
              src={post.image} 
              alt={post.title}
              class="h-48 w-full object-cover"
              loading="lazy"
            />
            <div class="p-6">
              <div class="flex items-center gap-3 mb-3">
                <span class="text-xs font-medium text-primary-600 bg-primary-50 px-2 py-1 rounded">
                  {post.category}
                </span>
                <span class="text-xs text-slate-500">{post.readTime} olvasás</span>
              </div>
              <h2 class="text-xl font-bold text-slate-900 mb-2 hover:text-primary-600 transition-colors">
                <a href={`/hu/blog/${post.slug}`}>{post.title}</a>
              </h2>
              <p class="text-slate-600 text-sm mb-4 line-clamp-3">
                {post.excerpt}
              </p>
              <div class="flex items-center justify-between">
                <time class="text-xs text-slate-500">{formatDate(post.date)}</time>
                <a 
                  href={`/hu/blog/${post.slug}`}
                  class="text-sm font-medium text-primary-600 hover:text-primary-700 inline-flex items-center gap-1"
                >
                  {t('blog.readMore')}
                  <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
                  </svg>
                </a>
              </div>
            </div>
          </article>
        ))}
      </div>
    </div>
  </section>
</Layout>
