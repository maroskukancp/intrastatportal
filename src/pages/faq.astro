---
import Layout from '../layouts/Layout.astro';
import { getLangFromUrl, useTranslations } from '../i18n/translations';
import CTA from '../components/CTA.astro';
import BreadcrumbSchema from '../components/BreadcrumbSchema.astro';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const breadcrumbs = [
  { name: 'Domov', url: '/' },
  { name: 'Časté otázky', url: '/faq/' }
];

const faqs = [
  { q: t('faq.q1'), a: t('faq.a1') },
  { q: t('faq.q2'), a: t('faq.a2') },
  { q: t('faq.q3'), a: t('faq.a3') },
  { q: t('faq.q4'), a: t('faq.a4') },
  { q: t('faq.q5'), a: t('faq.a5') },
  {
    q: 'Musí fyzická osoba podávať Intrastat hlásenia?',
    a: 'Áno, aj fyzická osoba má povinnosť podávať Intrastat hlásenia, ak prekročí prah oslobodenia. Povinnosť sa nevzťahuje len na právnické osoby, ale na všetkých subjekty, ktoré uskutočňujú obchod s tovarom v rámci EÚ.',
  },
  {
    q: 'Čo ak prekročím prah oslobodenia počas roka?',
    a: 'Ak počas roka prekročíte prah oslobodenia (1 000 000 EUR pre rok 2025), vzniká vám povinnosť podávať hlásenia od mesiaca prekročenia. Je potrebné sledovať kumulatívnu hodnotu obchodu a včas reagovať na vznik povinnosti.',
  },
  {
    q: 'Môžete podať hlásenie aj spätne?',
    a: 'Áno, hlásenia môžeme spracovať a podať aj spätne za predchádzajúce obdobia. V prípade omeškania je však potrebné počítať s možnými sankciami zo strany Štatistického úradu SR.',
  },
  {
    q: 'Ako dlho trvá spracovanie hlásenia?',
    a: 'Štandardne spracujeme hlásenie do 3-5 pracovných dní od doručenia kompletných podkladov. V prípade urgentnej potreby vieme zabezpečiť expresné spracovanie do 24 hodín.',
  },
  {
    q: 'Hlásia sa aj služby v Intrastat hláseniach?',
    a: 'Nie, Intrastat hlásenia sa týkajú výhradne obchodu s tovarom. Služby sa v Intrastat hláseniach neuvádzajú, aj keď môžu podliehať iným oznamovacím povinnostiam pre štatistické účely.',
  },
  {
    q: 'Ako sa hlási tovar, ktorý prešiel spracovaním?',
    a: 'Tovar, ktorý bol dovezený na spracovanie a následne vyvezený, sa hlási v oboch smeroch. Pri dovoze sa uvádza pôvodný tovar a pri vývoze spracovaný tovar s príslušným kódom transakcie.',
  },
  {
    q: 'Hlásia sa vzorky a reklamné predmety?',
    a: 'Áno, vzorky a reklamné predmety sa hlásia, ak majú obchodnú hodnotu a sú súčasťou obchodu v rámci EÚ. Uvádzajú sa s príslušným kódom povahy transakcie.',
  },
  {
    q: 'Ako sa hlási obalový materiál?',
    a: 'Obalový materiál, ktorý je neoddeliteľnou súčasťou tovaru (napr. fľaša na nápoj), sa hlási spolu s tovarom. Prepravné obaly, ktoré sa vracajú, sa nehlásia.',
  },
  {
    q: 'Aký kurz sa používa na prepočet cudzej meny?',
    a: 'Používa sa kurz Európskej centrálnej banky (ECB) platný v deň vzniku daňovej povinnosti alebo kurz Národnej banky Slovenska. Dôležité je používať konzistentne jeden zdroj kurzov.',
  },
  {
    q: 'Aké dokumenty si Štatistický úrad môže vyžiadať?',
    a: 'Štatistický úrad SR môže vyžiadať faktúry, dodacie listy, prepravné doklady, zmluvy a ďalšie dokumenty preukazujúce uskutočnenie obchodu a správnosť údajov v hlásení.',
  },
  {
    q: 'Je možné opraviť už podané hlásenie?',
    a: 'Áno, chybné alebo neúplné hlásenie je možné opraviť podaním opravného hlásenia. Oprava by mala byť vykonaná čo najskôr po zistení chyby.',
  },
  {
    q: 'Kto môže podať Intrastat hlásenie za firmu?',
    a: 'Hlásenie môže podať štatutárny zástupca firmy, splnomocnená osoba alebo externý spracovateľ s platnou plnou mocou. Zodpovednosť za správnosť údajov nesie vždy oznamovateľ.',
  },
];
---

<Layout title={`${t('nav.faq')} | Intrastat Portál`} description="Často kladené otázky o Intrastat hláseniach. Zistite všetko o povinnostiach, termínoch a sankciách.">
  <BreadcrumbSchema items={breadcrumbs} />
  
  <!-- Page Header -->
  <section class="bg-gradient-to-br from-primary-600 to-primary-800 py-16 md:py-20">
    <div class="container-custom">
      <div class="max-w-3xl">
        <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">
          {t('faq.title')}
        </h1>
        <p class="text-xl text-primary-100">
          Odpovede na najčastejšie otázky o Intrastat hláseniach
        </p>
      </div>
    </div>
  </section>

  <!-- FAQ List -->
  <section class="section-padding">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto">
        <div class="space-y-4">
          {faqs.map((faq, index) => (
            <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
              <button
                class="w-full px-6 py-5 text-left flex items-center justify-between gap-4 hover:bg-slate-50 transition-colors faq-button"
                data-index={index}
              >
                <span class="text-lg font-semibold text-slate-900">{faq.q}</span>
                <svg class="w-5 h-5 text-slate-500 flex-shrink-0 transition-transform faq-icon" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                </svg>
              </button>
              <div class="hidden px-6 pb-5 faq-content" data-index={index}>
                <p class="text-slate-600">{faq.a}</p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Still have questions -->
  <section class="section-padding bg-slate-50">
    <div class="container-custom">
      <div class="max-w-2xl mx-auto text-center">
        <h2 class="text-2xl md:text-3xl font-bold text-slate-900 mb-4">
          Nenašli ste odpoveď?
        </h2>
        <p class="text-lg text-slate-600 mb-8">
          Kontaktujte nás a radi zodpovieme všetky vaše otázky ohľadom Intrastat hlásení.
        </p>
        <a href={`${lang === 'sk' ? '' : '/en'}/kontakt`} class="btn-primary">
          Kontaktovať nás
        </a>
      </div>
    </div>
  </section>

  <CTA />
</Layout>

<script>
  document.querySelectorAll('.faq-button').forEach((button) => {
    button.addEventListener('click', () => {
      const index = button.getAttribute('data-index');
      const content = document.querySelector(`.faq-content[data-index="${index}"]`);
      const icon = button.querySelector('.faq-icon');
      
      content?.classList.toggle('hidden');
      icon?.classList.toggle('rotate-180');
    });
  });
</script>
