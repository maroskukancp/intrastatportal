---
import Layout from '../../layouts/Layout.astro';
import { useTranslations } from '../../i18n/translations';
import CTA from '../../components/CTA.astro';

const t = useTranslations('en');

const faqs = [
  { q: t('faq.q1'), a: t('faq.a1') },
  { q: t('faq.q2'), a: t('faq.a2') },
  { q: t('faq.q3'), a: t('faq.a3') },
  { q: t('faq.q4'), a: t('faq.a4') },
  { q: t('faq.q5'), a: t('faq.a5') },
  {
    q: 'Do individuals have to submit Intrastat reports?',
    a: 'Yes, individuals also have an obligation to submit Intrastat reports if they exceed the exemption threshold. The obligation applies not only to legal entities, but to all entities that trade goods within the EU.',
  },
  {
    q: 'What if I exceed the exemption threshold during the year?',
    a: 'If you exceed the exemption threshold (EUR 1,000,000 for 2025) during the year, you are obligated to submit reports from the month of exceeding. It is necessary to monitor the cumulative value of trade and respond in time to the arising obligation.',
  },
  {
    q: 'Can you submit reports retroactively?',
    a: 'Yes, we can process and submit reports retroactively for previous periods. However, in case of delay, it is necessary to expect possible penalties from the Statistical Office of the Slovak Republic.',
  },
  {
    q: 'How long does it take to process a report?',
    a: 'We typically process reports within 3-5 business days of receiving complete documents. For urgent needs, we can provide express processing within 24 hours.',
  },
  {
    q: 'Are services also reported in Intrastat reports?',
    a: 'No, Intrastat reports concern exclusively trade in goods. Services are not included in Intrastat reports, although they may be subject to other reporting obligations for statistical purposes.',
  },
  {
    q: 'How to report goods that have been processed?',
    a: 'Goods that were imported for processing and subsequently exported are reported in both directions. On import, the original goods are stated, and on export, the processed goods with the appropriate transaction code.',
  },
  {
    q: 'Are samples and promotional items reported?',
    a: 'Yes, samples and promotional items are reported if they have commercial value and are part of trade within the EU. They are stated with the appropriate nature of transaction code.',
  },
  {
    q: 'How is packaging material reported?',
    a: 'Packaging material that is an inseparable part of the goods (e.g. a bottle for a drink) is reported together with the goods. Transport packaging that is returned is not reported.',
  },
  {
    q: 'What exchange rate is used to convert foreign currency?',
    a: 'The European Central Bank (ECB) rate valid on the day of tax liability or the National Bank of Slovakia rate is used. It is important to consistently use one source of rates.',
  },
  {
    q: 'What documents can the Statistical Office request?',
    a: 'The Statistical Office of the Slovak Republic may request invoices, delivery notes, transport documents, contracts and other documents proving the execution of trade and the correctness of data in the report.',
  },
  {
    q: 'Is it possible to correct an already submitted report?',
    a: 'Yes, an incorrect or incomplete report can be corrected by submitting a corrective report. The correction should be made as soon as possible after discovering the error.',
  },
  {
    q: 'Who can submit an Intrastat report for a company?',
    a: 'The report can be submitted by the statutory representative of the company, an authorized person, or an external processor with a valid power of attorney. The reporter always bears responsibility for the correctness of the data.',
  },
];
---

<Layout title={`${t('nav.faq')} | Intrastat Portal`} description="Frequently asked questions about Intrastat reports. Learn everything about obligations, deadlines and penalties.">
  <!-- Page Header -->
  <section class="bg-gradient-to-br from-primary-600 to-primary-800 py-16 md:py-20">
    <div class="container-custom">
      <div class="max-w-3xl">
        <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">
          {t('faq.title')}
        </h1>
        <p class="text-xl text-primary-100">
          Answers to the most common questions about Intrastat reports
        </p>
      </div>
    </div>
  </section>

  <!-- FAQ List -->
  <section class="section-padding">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto">
        <div class="space-y-4">
          {faqs.map((faq, index) => (
            <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
              <button
                class="w-full px-6 py-5 text-left flex items-center justify-between gap-4 hover:bg-slate-50 transition-colors faq-button"
                data-index={index}
              >
                <span class="text-lg font-semibold text-slate-900">{faq.q}</span>
                <svg class="w-5 h-5 text-slate-500 flex-shrink-0 transition-transform faq-icon" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                </svg>
              </button>
              <div class="hidden px-6 pb-5 faq-content" data-index={index}>
                <p class="text-slate-600">{faq.a}</p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Still have questions -->
  <section class="section-padding bg-slate-50">
    <div class="container-custom">
      <div class="max-w-2xl mx-auto text-center">
        <h2 class="text-2xl md:text-3xl font-bold text-slate-900 mb-4">
          Didn't find your answer?
        </h2>
        <p class="text-lg text-slate-600 mb-8">
          Contact us and we will be happy to answer all your questions about Intrastat reports.
        </p>
        <a href="/en/kontakt" class="btn-primary">
          Contact us
        </a>
      </div>
    </div>
  </section>

  <CTA />
</Layout>

<script>
  document.querySelectorAll('.faq-button').forEach((button) => {
    button.addEventListener('click', () => {
      const index = button.getAttribute('data-index');
      const content = document.querySelector(`.faq-content[data-index="${index}"]`);
      const icon = button.querySelector('.faq-icon');
      
      content?.classList.toggle('hidden');
      icon?.classList.toggle('rotate-180');
    });
  });
</script>
